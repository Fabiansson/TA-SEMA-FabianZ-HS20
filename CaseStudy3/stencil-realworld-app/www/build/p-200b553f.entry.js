import{r as t,h as s}from"./p-169f3d6f.js";import"./p-3daa696c.js";import{u as e}from"./p-4bc430e0.js";const i=[{id:"image",placeholder:"URL of profile picture",type:"text"},{id:"username",placeholder:"Your Name",type:"text",required:!0},{id:"bio",placeholder:"Short bio about you",isTextArea:!0,type:"text"},{id:"email",placeholder:"Email",type:"email",required:!0},{id:"password",placeholder:"Password",type:"password"}],r=class{constructor(s){t(this,s),this.username="",this.email="",this.bio="",this.image="",this.password="",this.disabled=!1,this.handleSubmit=async t=>{t.preventDefault(),this.disabled=!0;const{username:s,email:i,image:r,bio:o,user:{token:a}}=this;if(!s||!i)return;const d={username:s,email:i,password:this.password||void 0,image:r,bio:o},l=await e(d,a);l.success&&l.user?this.setUser(l.user):this.errors=l.errors,this.disabled=!1},this.handleChange=t=>{const s=t.target.getAttribute("data-settings-id"),e=t.target.value;s&&e&&(this[s]=e)}}componentDidLoad(){this.username=this.user.username,this.email=this.user.email,this.bio=this.user.bio,this.image=this.user.image,document.title="Settings - Stencil Conduit"}render(){return s("main",{class:"settings-page"},s("div",{class:"container page"},s("div",{class:"row"},s("div",{class:"col-md-6 offset-md-3 col-xs-12"},s("h1",{class:"text-xs-center"},"Your Settings"),s("error-display",{errors:this.errors}),s("form",{onSubmit:this.handleSubmit},s("fieldset",{disabled:this.disabled},i.map((t=>{const e={class:"form-control form-control-lg",placeholder:t.placeholder,type:t.type||"text",value:this[t.id],onInput:this.handleChange,required:t.required||!1,"data-settings-id":t.id};return s("fieldset",{class:"form-group"},t.isTextArea?s("textarea",Object.assign({},e,{rows:8})):s("input",Object.assign({},e)))})),s("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Update Settings")))))))}};export{r as settings_page}