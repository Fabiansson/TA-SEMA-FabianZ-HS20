!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(a){r=!0,o=a}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{o0Gc:function(t,i,o){"use strict";o.r(i),o.d(i,"ProfileModule",function(){return ae});var c,s,a=o("CWEr"),u=o("gy9y"),b=o("2Mw2"),f=o("ofXK"),l=o("tyNb"),p=o("9jGm"),O=o("l7P3"),h=o("A47K"),v=o("lJxs"),d=o("fXoL"),j=((c=function(){function e(t){n(this,e),this.apiService=t}return r(e,[{key:"getProfile",value:function(e){return this.apiService.get("/profiles/"+e).pipe(Object(v.a)(function(e){return e.profile}))}}]),e}()).\u0275fac=function(e){return new(e||c)(d.Pb(h.b))},c.\u0275prov=d.Db({token:c,factory:c.\u0275fac}),c),g=o("LRne"),y=o("OQgR"),m=o("5+tZ"),L=o("eIep"),w=o("JIr8"),k=o("bOdf"),$=Object(O.n)("[profile] GET_PROFILE",Object(O.s)()),S=Object(O.n)("[profile] GET_PROFILE_SUCCESS",Object(O.s)()),F=Object(O.n)("[profile] GET_PROFILE_FAIL",Object(O.s)()),P=Object(O.n)("[profile] FOLLOW",Object(O.s)()),K=Object(O.n)("[profile] FOLLOW_SUCCESS",Object(O.s)()),W=Object(O.n)("[profile] FOLLOW_FAIL",Object(O.s)()),A=Object(O.n)("[profile] UNFOLLOW",Object(O.s)()),I=Object(O.n)("[profile] UNFOLLOW_SUCCESS",Object(O.s)()),C=Object(O.n)("[profile] UNFOLLOW_FAIL",Object(O.s)()),U=((s=function e(t,i,r){var o=this;n(this,e),this.actions$=t,this.actionsService=i,this.profileService=r,this.getProfile$=Object(p.c)(function(){return o.actions$.pipe(Object(p.d)($),Object(y.a)(function(e){return e.id}),Object(m.a)(function(e){return e.pipe(Object(v.a)(function(e){return e.id}),Object(L.a)(function(e){return o.profileService.getProfile(e).pipe(Object(v.a)(function(e){return S({profile:e})}),Object(w.a)(function(e){return Object(g.a)(F({error:e}))}))}))}))}),this.follow$=Object(p.c)(function(){return o.actions$.pipe(Object(p.d)(P),Object(v.a)(function(e){return e.id}),Object(k.a)(function(e){return o.actionsService.followUser(e).pipe(Object(v.a)(function(e){return K({profile:e.profile})}),Object(w.a)(function(e){return Object(g.a)(W({error:e}))}))}))}),this.unFollow$=Object(p.c)(function(){return o.actions$.pipe(Object(p.d)(A),Object(v.a)(function(e){return e.id}),Object(k.a)(function(e){return o.actionsService.unfollowUser(e).pipe(Object(v.a)(function(e){return I({profile:e.profile})}),Object(w.a)(function(e){return Object(g.a)(C({error:e}))}))}))})}).\u0275fac=function(e){return new(e||s)(d.Pb(p.a),d.Pb(b.a),d.Pb(j))},s.\u0275prov=d.Db({token:s,factory:s.\u0275fac}),s),x={username:"",bio:"",image:"",following:!1,loading:!1},E=Object(O.o)("profile"),V=Object(O.p)(x,Object(O.r)($,function(e,t){return Object.assign(Object.assign({},e),{loading:!0})}),Object(O.r)(S,function(e,t){return Object.assign(Object.assign({},t.profile),{loading:!1})}),Object(O.r)(F,function(e,t){return x}),Object(O.r)(K,I,function(e,t){return t.profile}));function D(e,t){return V(e,t)}var _,R,G,Y,N,T,J,M=((_=function(){function e(t){n(this,e),this.store=t,this.profile$=this.store.select(E)}return r(e,[{key:"follow",value:function(e){this.store.dispatch(P({id:e}))}},{key:"unfollow",value:function(e){this.store.dispatch(A({id:e}))}}]),e}()).\u0275fac=function(e){return new(e||_)(d.Pb(O.h))},_.\u0275prov=d.Db({token:_,factory:_.\u0275fac}),_),X=o("qm0p"),Z=((N=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=d.Bb({type:N,selectors:[["app-profile-articles"]],decls:1,vars:0,template:function(e,t){1&e&&d.Ib(0,"app-article-list")},directives:[X.a],styles:[""],changeDetection:0}),N),B=((Y=function(){function e(t){n(this,e),this.store=t}return r(e,[{key:"resolve",value:function(e,t){this.store.dispatch($({id:e.params.username}))}}]),e}()).\u0275fac=function(e){return new(e||Y)(d.Pb(O.h))},Y.\u0275prov=d.Db({token:Y,factory:Y.\u0275fac}),Y),H=((G=function(){function e(t){n(this,e),this.store=t}return r(e,[{key:"resolve",value:function(e,t){var n=e.params.username;this.store.dispatch(a.d({config:Object.assign(Object.assign({},a.c.listConfig),{filters:Object.assign(Object.assign({},a.c.listConfig.filters),{author:n})})}))}}]),e}()).\u0275fac=function(e){return new(e||G)(d.Pb(O.h))},G.\u0275prov=d.Db({token:G,factory:G.\u0275fac}),G),q=((R=function(){function e(t){n(this,e),this.store=t}return r(e,[{key:"resolve",value:function(e,t){var n=e.parent.params.username;this.store.dispatch(a.d({config:Object.assign(Object.assign({},a.c.listConfig),{filters:Object.assign(Object.assign({},a.c.listConfig.filters),{favorited:n})})}))}}]),e}()).\u0275fac=function(e){return new(e||R)(d.Pb(O.h))},R.\u0275prov=d.Db({token:R,factory:R.\u0275fac}),R),z=o("XNiG"),Q=o("itXk"),ee=o("vkgz"),te=o("1G5W"),ne=function(e,t){return{"btn-outline-secondary":e,"btn-secondary":t}},ie=function(){return["/settings"]},re=function(e){return["/profile",e]},oe=function(){return{exact:!0}},ce=function(e){return["/profile",e,"favorites"]},se=((J=function(){function t(e,i){n(this,t),this.facade=e,this.authFacade=i,this.isUser$=new z.a,this.unsubscribe$=new z.a}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.profile$=this.facade.profile$,this.currentUser$=this.authFacade.user$,Object(Q.b)([this.profile$,this.currentUser$]).pipe(Object(ee.a)(function(n){var i=e(n,2),r=i[0];i[1],t.username=r.username,t.following=r.following}),Object(v.a)(function(t){var n=e(t,2),i=n[0],r=n[1];return i.username===r.username}),Object(te.a)(this.unsubscribe$)).subscribe(function(e){return t.isUser$.next(e)})}},{key:"toggleFollowing",value:function(){this.following?this.facade.unfollow(this.username):this.facade.follow(this.username)}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}]),t}()).\u0275fac=function(e){return new(e||J)(d.Hb(M),d.Hb(u.a))},J.\u0275cmp=d.Bb({type:J,selectors:[["app-profile"]],decls:40,vars:48,consts:[[1,"profile-page"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],[1,"user-img",3,"src"],[3,"hidden"],[1,"btn","btn-sm","action-btn",3,"hidden","ngClass","click"],[1,"ion-plus-round"],[1,"btn","btn-sm","btn-outline-secondary","action-btn",3,"routerLink","hidden"],[1,"ion-gear-a"],[1,"articles-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"]],template:function(e,t){var n,i,r;(1&e&&(d.Lb(0,"div",0),d.Lb(1,"div",1),d.Lb(2,"div",2),d.Lb(3,"div",3),d.Lb(4,"div",4),d.Ib(5,"img",5),d.Vb(6,"async"),d.Lb(7,"h4",6),d.Vb(8,"async"),d.ic(9),d.Vb(10,"async"),d.Kb(),d.Lb(11,"p"),d.ic(12),d.Vb(13,"async"),d.Kb(),d.Lb(14,"button",7),d.Sb("click",function(){return t.toggleFollowing()}),d.Vb(15,"async"),d.Vb(16,"async"),d.Vb(17,"async"),d.Ib(18,"i",8),d.ic(19),d.Vb(20,"async"),d.Vb(21,"async"),d.Kb(),d.Lb(22,"a",9),d.Vb(23,"async"),d.Ib(24,"i",10),d.ic(25," Edit Profile Settings "),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(26,"div",2),d.Lb(27,"div",3),d.Lb(28,"div",4),d.Lb(29,"div",11),d.Lb(30,"ul",12),d.Lb(31,"li",13),d.Lb(32,"a",14),d.Vb(33,"async"),d.ic(34,"My Articles"),d.Kb(),d.Kb(),d.Lb(35,"li",13),d.Lb(36,"a",14),d.Vb(37,"async"),d.ic(38,"Favorited Articles"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Ib(39,"router-outlet"),d.Kb(),d.Kb(),d.Kb(),d.Kb()),2&e)&&(d.xb(5),d.Yb("src",null==(n=d.Wb(6,14,t.profile$))?null:n.image,d.fc),d.xb(2),d.Yb("hidden",d.Wb(8,16,t.profile$).loading),d.xb(2),d.kc(" ",null==(i=d.Wb(10,18,t.profile$))?null:i.username," "),d.xb(3),d.jc(null==(r=d.Wb(13,20,t.profile$))?null:r.bio),d.xb(2),d.Yb("hidden",d.Wb(15,22,t.isUser$))("ngClass",d.bc(38,ne,!d.Wb(16,24,t.profile$).following,d.Wb(17,26,t.profile$).following)),d.xb(5),d.lc(" \xa0 ",d.Wb(20,28,t.profile$).following?"Unfollow":"Follow"," ",d.Wb(21,30,t.profile$).username," "),d.xb(3),d.Yb("routerLink",d.Zb(41,ie))("hidden",!1===d.Wb(23,32,t.isUser$)),d.xb(10),d.Yb("routerLink",d.ac(42,re,d.Wb(33,34,t.profile$).username))("routerLinkActiveOptions",d.Zb(44,oe)),d.xb(4),d.Yb("routerLink",d.ac(45,ce,d.Wb(37,36,t.profile$).username))("routerLinkActiveOptions",d.Zb(47,oe)))},directives:[f.j,l.g,l.f,l.i],pipes:[f.b],styles:[""],changeDetection:0}),J),ae=((T=function e(){n(this,e)}).\u0275mod=d.Fb({type:T}),T.\u0275inj=d.Eb({factory:function(e){return new(e||T)},providers:[U,j,B,H,q,M],imports:[[f.c,a.b,b.b,l.h.forChild([{path:"",component:se,resolve:{ProfileResolverService:B},canActivate:[u.b],children:[{path:"",component:Z,resolve:{ProfileArticlesResolverService:H}},{path:"favorites",component:Z,resolve:{ProfileFavoritesResolverService:q}}]}]),O.j.forFeature("profile",D,{initialState:x}),p.b.forFeature([U])]]}),T)}}])}();